@page "/visita"
@using ParcialDosWeb.Models;
@inject ParcialDosContext context;
@rendermode InteractiveServer
@inject NavigationManager navigation

<div class="card" style="max-width: 400px; margin: auto;">
    <div class="card-body">
        <EditForm Model="visita" class="col" OnValidSubmit="SaveVisita">
            <DataAnnotationsValidator />
            <ValidationSummary />

            <div class="form-group mb-1">
                <label class="col-form-label">Telefono</label>
                <InputText class="form-control" @bind-Value="visita.Telefono" />
            </div>

            <div class="form-group mb-1">
                <label class="col-form-label">Nombre</label>
                <InputText class="form-control" @bind-Value="visita.Nombre" />
            </div>

            <div class="form-group mb-1">
                <label class="col-form-label">Apellido</label>
                <InputText class="form-control" @bind-Value="visita.Apellido" />
            </div>

            <div class="form-group mb-1">
                <label class="col-form-label">Correo</label>
                <InputText class="form-control" @bind-Value="visita.Correo" />
            </div>

            <button type="submit" class="btn btn-primary">
                Guardar
            </button>
        </EditForm>
    </div>
</div>

@code {
    Visita visita = new Visita();

    private void SaveVisita()
    {
        context.Visitas.Add(visita);
        context.SaveChanges();
        visita = new Visita();
    }

}
